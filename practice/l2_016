#include<bits/stdc++.h>
using namespace std;

const int maxn =1e5+10;
int fa[maxn],ma[maxn];
int sex[maxn];
int n,q;
void init()
{
	memset(fa,-1,sizeof(fa));
	memset(ma,-1,sizeof(ma));
}
bool canmerry(int x,int y,int step)
{
	if(x==-1&&y==-1)
	return true;
	if((fa[x]!=-1&&fa[x]==fa[y])||(ma[x]!=-1&&ma[x]==ma[y]))
	return false;
	step++;
	if(step>=4)
	return true;
	
	return canmerry(ma[x],ma[y],step)&&canmerry(fa[x],fa[y],step)&&canmerry(fa[x],ma[y],step)&&canmerry(ma[x],fa[y],step);
	
}
int main()
{
	scanf("%d",&n);
	init();
	for(int i=0;i<n;i++)
	 {
	   int child,f,m;
	   string s;
	   scanf("%d",&child);
	   cin>>s;
	   scanf("%d %d",&f,&m);
	   
	   if(s == "M") 
	   sex[child]=1;
	   else if(s=="F")
	   sex[child]=0;
	   
	   fa[child]=f;
	   ma[child]=m;
	   if(f!=-1)
	   sex[f]=1;
	   if(m!=-1)
	   sex[m]=0;
	   
}
      scanf("%d",&q);
      while(q--)
       {
       	int a,b;
       	scanf("%d %d",&a,&b);
       	if(sex[a]==sex[b])
       	printf("Never Mind\n");
       	else
            {
            	if(canmerry(a,b,0))
            	printf("Yes\n");
            	else
            	printf("No\n");
			}
	   }
	   
	   
	   
	   
}
